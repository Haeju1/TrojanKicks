<!DOCTYPE html>
<html>
  <head>
    <title>TrojanKicks</title>
    <link rel="stylesheet" href="./style.css" />
    <link
      href="https://fonts.googleapis.com/css?family=Oswald&display=swap"
      rel="stylesheet"
    />
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script
      src="https://unpkg.com/react@16/umd/react.development.js"
      crossorigin
    ></script>
    <script
      src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"
      crossorigin
    ></script>

    <title>TrojanKicks</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
  </head>
  <header>
    <h1>TrojanKicks</h1>
    <img
      src="https://lh3.googleusercontent.com/Z8Uq_my9V9Sjcv7kB0wdd-EClVCEPba23Ztk48beHuBXSnhr15MorYD21cSqzymoB2t_bMW7K6zJpDrx9N2KvcgVxs7q6CX4VJ24Y07guFzkHkzh7gwxIVljAnyZ8Lhg0l6K-Coc8aoppopcG24qWWytBNeMqqV2zt_PkmmMhCfO-8BP9qDyK47Pi6BsYfVhBWgNZA1mzydlLPRRMa0Vfth3Fc83KGR7bQdXtMPQ5r4kGkhOya_A_YPBsvpbWreGFCikJiy0mEr5pzzu_aZuKbKTBw7qsR4uraI_ljkzj07J1v84BXn05EuLo6aRLTO3e9EiYNR1ILK1KgTKrsdWLFgHU5cMVzwvPUzxLz0Z4DRlID0SSJt3nwbvf8bQmnk-AOpKGgydb51FYWgoH7OEldY81HrLvUrDxRCTrwNSVdEVah2PqQ3itXsn8DrmY1oTDB_AOVWyPRpbWpQm_bNcheZSkmQemahjKNlKgk6HTSxlFwrkFDo9dnbMwM9IewgRl8mMQANke3KEb_Ab44RvJL23MZUnKqTc_I6y9ZN2gwvG5i29vtuH41bOq0NYblmtzPw6AHmgQ0WQzIKIgFIEKhjzrf729XHpWk54iB97RLG8YZBXGTXpHr1aRIwpOoEB81mIumuSyWjW1COk9fchL-BHUD6j0ybZka4BIGJtN1z1-Q1aKUD6rltZ37x1fbFQUMUugizswpyLPk4DfwszR-q6q-XjdrCkBElnmzSMIxuJgA=w498-h497-no"
    />
  </header>
  <body>
    <div class="wrapper">
      <nav>
        <ul>
          <li><a href="#sale">FOR SALE</a></li>
          <li><a href="#about">ABOUT</a></li>
          <li><a href="#policies">POLICIES</a></li>
          <li><a href="#contact">CONTACT</a></li>
        </ul>
      </nav>
    </div>

    <div id="listings">
      
    </div>

    <script type="text/babel">
      class Products extends React.Component {
        constructor(props) {
          super(props);
          this.state = {
            products: []
          };
        }
        async componentDidMount() {
          let data = await fetch(
            "https://trojankicks.herokuapp.com/api/product"
          );
          let dataJson = await data.json();
          this.setState({
            products: dataJson
          });
          let products = this.state.products;
        }
        render() {
          let products = this.state.products;
          products = products.map((product, index) => {
            let purchaseLink =
              "https://trojankicks.herokuapp.com/api/pay?_id=" + product._id;
            return (
              <div key={product._id} className="product">
                <img src={product.photoURL}></img>
                <div>
                  <div>
                    <h1>{product.name}</h1>
                    <h1>Size {product.size}</h1>
                    <h1>${product.price}</h1>
                    <form action={purchaseLink} method="post">
                      <input
                        type="image"
                        id="paypal_button"
                        src="https://www.paypalobjects.com/webstatic/en_US/i/buttons/checkout-logo-small.png"
                        name="submit"
                        alt="PayPal - The safer, easier way to pay online!"
                      ></input>
                    </form>
                  </div>
                </div>
              </div>
            );
          });
          return (
            <div className="listings">
              {products}
            </div>
          );
        }
      }
      ReactDOM.render(<Products />, document.getElementById("listings"));
    </script>
  </body>
</html>
