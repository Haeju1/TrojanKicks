<script type="text/babel">
  var Products = React.createClass({
    getInitialState: async ()=>{
      const data = await fetch('api/products');
      console.log('Here');
      const jsonResult = await data.json();
      return({
        products: [jsonResult]
      })
    },
    componentDidMount: ()=>{
      // Fetches json of the product
      console.log();
      fetch('api/products').then((data)=>{
        console.log('hit')
        return data.json();
      }).then(json => {
        this.setState({
          products: json
        })
      });
    },
    render: ()=>{
      let products=this.state.products;
      products=products.map((product,index)=>{
        return({
          <li key={index}>
              <span className="name">{product.obj.name}</span>
              <span className="price">{product.obj.price}</span>
          </li>
        });
      });
      return(
        <div id="listings">
          <h2>Yo</h2>
          {products}
        </div>
      );
    }
  })
ReactDOM.render(</Products>, document.getElementById('listings'));
</script>










class Product extends React.Component{
  console.log('hit');
  const dataJson=[];
  await fetch('api/products').then((data)=>{

    return data.json();
  }).then(json => {
    dataJson=json;
  });
  render() {
    return({
      <div className="rndom">
        <h1>Heyo</h1>
      </div>
    })
  }
}








<div id="listings">

  <div id="product1" class="product" >
    <div class="picture_container">
      <img id="shoe1" src="../images/presto.jpg" alt="white presto" width="200px" height="auto">
    </div>
    <div class="item_details">
      <h4>Off-White Presto White Size 10</h4>
      <h4>$700</h4>
    </div>
  </div>
  <div id="product2" class="product">
    <div class="picture_container">
      <img id="shoe2" src="../images/lundmark.jpg" alt="white presto" width="200px" height="auto">
    </div>
    <div class="item_details">
      <h4>Yeezy 350 Lundmark Size 9</h4>
      <h4>$300</h4>
    </div>
  </div>
  <div id="product3" class="product">
    <div class="picture_container">
      <img id="shoe3" src="../images/black_presto.jpg" alt="white presto" width="200px" height="auto">
    </div>
    <div class="item_details">
      <h4>Off-White Presto Black Size 10</h4>
      <h4>$900</h4>
    </div>
  </div>
  <div id="product4" class="product" >
    <div class="picture_container">
      <img id="shoe4" src="../images/kyrie.jpg" alt="white presto" width="200px" height="auto">
    </div>
    <div class="item_details">
      <h4>Kyrie Spongebob Size 8</h4>
      <h4>$200</h4>
    </div>
  </div>








  <script type="text/babel">
    class Products extends React.Component{
      getInitialState: ()=>{
        console.log('yoyo');
        fetch('api/products').then((data)=>{
          console.log('hit')
          return data.json();
        }).then(json => {
          this.setState({
            products: [json]
          })
        });
      }
      /*
      getInitialState: async ()=>{
        const data = await fetch('api/products');
        console.log('Here');
        const jsonResult = await data.json();
        return({
          products: [jsonResult]
        })
      },*/
      componentDidMount: ()=>{
        // Fetches json of the product
        console.log('yoyo');
        fetch('api/products').then((data)=>{
          console.log('hit')
          return data.json();
        }).then(json => {
          this.setState({
            products: [json]
          })
        });
      },
      render: ()=>{
        let products=this.state.products;
        products=products.map((product,index)=>{
          return(
            <li key={index}>
                <span className="name">{product.obj.name}</span>
                <span className="price">{product.obj.price}</span>
            </li>
          );
        });
        return(
          <div id="listings">
            <h2>Yo</h2>
            {products}
          </div>
        );
      }
    }
  ReactDOM.render(<Products/>,document.getElementById('listings'));
  </script>
